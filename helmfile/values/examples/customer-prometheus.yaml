# This chart is not supposed to be installed using Helmfile at the moment.
# The current way of installation is to use `helm template | kubectl apply`.
# Therefore some values are left empty and should be `--set`.

nameOverride: prometheus
fullnameOverride: prometheus

prometheusSpec:
  remoteRead: []
  remoteWrite: []
  retention: 2d
  ruleSelector:
    matchLabels:
      app: prometheus
  
  serviceAccountName: default
  serviceMonitorSelector:
    matchLabels:
      scrape: "true"
  # Set to {} to select all namespaces
  # Comment out to select the namespace this instance is running in
  serviceMonitorNamespaceSelector: {}
  #   matchLabels:
  #     key: value
  # externalLabels:
  #   # Add labels you want to add to all metrics
  #   cluster: workload_cluster
  alerting:
    alertmanagers:
    # https://github.com/coreos/prometheus-operator/blob/master/Documentation/api.md#alertmanagerendpoints
    - name: alertmanager-operated
      namespace: "" # Set this when running `helm template`.
      pathPrefix: /
      port: web

ingress:
  enabled: true
  annotations:
    certmanager.k8s.io/issuer: self-signed
    # type of authentication
    nginx.ingress.kubernetes.io/auth-type: basic
    # name of the secret that contains the user/password definitions
    nginx.ingress.kubernetes.io/auth-secret: prometheus-auth
    # message to display with an appropriate context why the authentication is required
    nginx.ingress.kubernetes.io/auth-realm: 'Authentication Required'
  hosts:
    - host: "" # Set this when running `helm template`.
      paths:
      - "/"

  tls:
  - hosts: []
    secretName: prometheus-certs
