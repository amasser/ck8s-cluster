  apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    name: influxdb
  spec:
    template:
      spec:
        volumes:
          - name: textfile-collector-dir
            emptyDir: {}
          - name: scripts
            configMap:
              name: influxdb-du-monitoring-script
          - name: cronfiles
            configMap:
              name: influxdb-du-monitoring-cronjob      
        containers:
          - name: influxdb-node-exporter
            image: prom/node-exporter:v0.18.1
            args: ["--collector.textfile.directory=/textfile-collector", "--no-collector.arp", "--no-collector.bcache", "--no-collector.bonding", "--no-collector.conntrack", "--no-collector.cpu", "--no-collector.cpufreq", "--no-collector.diskstats", "--no-collector.edac", "--no-collector.entropy", "--no-collector.filefd", "--no-collector.filesystem", "--no-collector.hwmon", "--no-collector.infiniband", "--no-collector.ipvs", "--no-collector.loadavg", "--no-collector.mdadm", "--no-collector.meminfo", "--no-collector.netclass", "--no-collector.netdev", "--no-collector.nfs", "--no-collector.nfsd", "--no-collector.netstat", "--no-collector.pressure", "--no-collector.stat", "--no-collector.sockstat", "--no-collector.timex", "--no-collector.vmstat", "--no-collector.xfs", "--no-collector.zfs"]
              # enabled collectors: textfile, time, uname
            ports:
            - containerPort: 9100
              name: web
            volumeMounts:
              - name: textfile-collector-dir
                mountPath: /textfile-collector
          - name: influxdb-cronjob
            image: bambash/docker-cron
            volumeMounts:
              - name: influxdb-data
                mountPath: /var/lib/influxdb
              - name: textfile-collector-dir
                mountPath: /textfile-collector
              - name: scripts
                mountPath: /scripts
              - name: cronfiles
                mountPath: /etc/cron.d/